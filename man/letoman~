.\" Manpage for SVFINDER.
.TH man 7 "04 sept. 2012" "1.0" "TE-Tracker - leto.pl"
.SH NAME
TE-Tracker Leto Module\- clusters discordant pairs and call transposition events.
.SH SYNOPSIS
metis.pl
.B -discordant
.I filename
.I [OPTIONS]
.SH DESCRIPTION
.BR
.TP 50
"The dark-gowned Leto, always mild, kind to men and to the deathless gods, mild from the beginning, gentlest in all Olympos."
Hesiod, Theogony, 404

.P
The Leto module constitutes the main step in the TE-Tracker pipeline, where the clustering is performed. As such, it is the default value of the 
.B
binary
entry in the 
.B 
[CLUSTERING]
section of the configuration file.
It acts as a wrapper for a single-linkage clustering (SLC) routine which is written in C++ and is called internally. The program was named after Leto, mistress of Zeus and mother of Apollo, whose name means "the hidden one".
.P 
This program should be located in the 
.I
basedir
directory as specified in TE-Tracker.conf.
.SH FEATURES
After calling the SLC program, Leto will further process the cluster files in order to merge them. Finally, it will assemble clusters with coherent signatures and assign transposition events to them. After this calling, a primary output is generated, which can be interpreted as-is. As such, it is possible to end the pipeline after running Leto, since all information about transposition events is already present.
.SH EXAMPLE
leto.pl -in test/  -out test/ -samtools=samtools -clustering_parameters 980:900
.SH CAVEAT
Please beware that the input and output directories contain no dots (.) as it conflicts with an internal regular expression.
.SH OUTPUT
Leto generates two output files. They are both tab-separated, and the second one,
.BR sv.formatted ", just adds two columns to the beginning of the first one (
.BR sv.out "). These columns contain characters and numbers that group multiple donors of a single event together."
The output format  is as such :
.TP 20
.B Field
.B Description
.TP
(-1) [bracket]
One unicode character, or empty string. Only present in sv.formatted.
.TP
(0) [event_id]
An integer defining the event. All lines bearing the same event_id correspond to multiple donors of the same event. Only present in sv.formatted.
.TP
1  type
Type of the event. This is either TRANS for transposition or DEL for deletion. 
.TP
2  a_chr
Acceptor chromosom or contig.
.TP
3  a_start
Acceptor start.
.TP
4  a_end
Acceptor end.
.TP
5  a_len
Acceptor length.
.TP
6  d_chr
Donor chromosom or contig (not for DEL).
.TP
7  d_start
Donor start (not for DEL).
.TP
8  d_end
Donor end (not for DEL).
.TP
9  sens
Either 
.B sens
for forward strand or 
.BR inverse " for reverse strand (not for DEL)."
.TP
10 overlap_size
The overlap between either the two right clusters or the two left clusters (not for DEL).
.TP
11 d_len
Donor length (not for DEL).
.TP
12 #reads
Number of reads supporting the event.

.SH CONFIGURATION FILE
Leto is the default binary in the 
.B [CLUSTERING] 
section of the TE-Tracker configuration file. The only specific variable in that section is
.B slc_path
which should point to the Single-Linkage Clustering program.



.SH OPTIONS
.SS Mandatory options
.TP 20
.BI -in " dirname"
Input directory.
.TP
.BI -out " dirname"
Output directory.
.TP
.BI -clustering_parameters " n:m"
Forces the use of specific parameters for X (n) and Y (m). This overrides the native evaluation of optimal (X,Y) performed by TE-Tracker. See original article for description of these parameters.
.TP
.BI -rundata " filename"
If this parameter is omitted, TE-Tracker will look in the input directory for a rundata.dat file as it is generated by the eris module. If it is not found, calculation of over-covered regions and alignment distribution parameters will run again. This allows the user to specify the path to an already generated rundata.dat file.
.TP
.BI -slc " filename"
Tells the program to use 
.IR filename " as the SLC clustering program instead of the native one provided by TE-Tracker. Please beware that command-line arguments and input file formats are coherent with those of TE-Tracker."
.TP
.BI -method " [ dist | markov,BAM-file ]"
By default, TE-Tracker will use parameters estimated using a quantile method. This behaviour is the default
.IR dist " value of this parameter. However, the user can also use a Markov-chain method for estimating X, such as it is described in the original paper. This is done by setting -method to 
.IR markov ". If you use the latter method, it is also necessary to specify the path to the original BAM file, separated by a comma (no spaces)."
This option overrides -clustering_parameters.
